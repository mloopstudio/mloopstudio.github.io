<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Our Team - Mloop Studio</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        /* Form-specific styles */
        .page-hero {
            background-color: var(--dominant);
            color: var(--bg-white);
            padding: 4rem 20px;
            text-align: center;
        }

        .page-hero h1 {
            font-family: var(--font-accent);
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .page-hero p {
            font-size: 1.2rem;
            opacity: 0.95;
        }

        .form-section {
            padding: 4rem 20px;
            background-color: var(--bg-neutral);
            min-height: 100vh;
        }

        .form-container {
            max-width: 700px;
            margin: 0 auto;
            background: var(--bg-white);
            border-radius: 15px;
            padding: 3rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .form-intro {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .form-intro h2 {
            font-family: var(--font-accent);
            color: var(--fg-dark);
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .form-intro p {
            color: var(--dominant);
            font-size: 1.1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--fg-dark);
            font-weight: 600;
            font-size: 1rem;
        }

        .required {
            color: var(--accent);
        }

        input, select, textarea {
            width: 100%;
            padding: 0.9rem;
            border: 2px solid var(--bg-neutral);
            border-radius: 8px;
            font-size: 1rem;
            font-family: var(--font-primary);
            transition: border-color 0.3s;
            background-color: var(--bg-white);
            color: var(--fg-dark);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--accent);
        }

        textarea {
            resize: vertical;
            min-height: 120px;
            line-height: 1.6;
        }

        select {
            cursor: pointer;
        }

        select:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-submit {
            width: 100%;
            padding: 1rem 2rem;
            border-radius: 30px;
            border: none;
            font-weight: 600;
            font-family: var(--font-primary);
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
            background-color: var(--accent);
            color: var(--fg-dark);
        }

        .btn-submit:hover {
            background-color: var(--dominant);
            color: var(--bg-white);
            transform: translateY(-2px);
        }

        .btn-submit:disabled {
            background-color: var(--bg-neutral);
            color: var(--fg-dark);
            cursor: not-allowed;
            transform: none;
            opacity: 0.6;
        }

        .status-message {
            margin-top: 1.5rem;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
            display: none;
        }

        .status-message.success {
            background-color: var(--supporting);
            color: var(--bg-white);
            display: block;
        }

        .status-message.error {
            background-color: #e07a5f;
            color: var(--bg-white);
            display: block;
        }

        .info-box {
            background-color: var(--bg-neutral);
            padding: 1.2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border-left: 4px solid var(--accent);
        }

        .info-box p {
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .page-hero h1 {
                font-size: 2rem;
            }

            .form-container {
                padding: 2rem 1.5rem;
            }

            .form-intro h2 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <a href="index.html" class="logo">
                    <img src="images/logo.png" alt="Mloop Studio">
                </a>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="works.html">Our Works</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="join.html" class="active">Join Our Team</a></li>
                    <li><a href="login.html" class="login-btn">Login</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="page-hero">
            <h1>Join Our Team</h1>
            <p>We're looking for passionate artists who share our vision</p>
        </div>

        <div class="form-section">
            <div class="form-container">
                <div class="form-intro">
                    <h2>Application Form</h2>
                    <p>Tell us about yourself</p>
                </div>

                <div class="info-box">
                    <p>ðŸ’¡ We're committed to reviewing every application. Whether we move forward or not, you'll get an email reply within <strong><u>7 days maximum</u></strong>. No ghosting, we promise!</p>
                </div>

                <form id="hiringForm">
                    <div class="form-group">
                        <label for="name">Full Name <span class="required">*</span></label>
                        <input type="text" id="name" name="name" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email Address <span class="required">*</span></label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <div class="form-group">
                        <label for="department">Department <span class="required">*</span></label>
                        <select id="department" name="department" required onchange="updatePositions()">
                            <option value="">-- Select Department --</option>
                            <option value="animation">2D Animation Series (HIGHLY NEEDED)</option>
                            <option value="gamedev">2D Game Dev & Learning Resources</option>
                            <option value="webdev">Web Development & Digital Infrastructure</option>
                            <option value="audio_marketing">Audio, Marketing & Post-Production</option>
                            <option value="leadership">Leadership & Management</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="position">Position Applying For <span class="required">*</span></label>
                        <select id="position" name="position" required disabled>
                            <option value="">-- Select Department First --</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="experience">Experience Level <span class="required">*</span></label>
                        <select id="experience" name="experience" required>
                            <option value="">-- Select Experience --</option>
                            <option value="Entry Level / Student">Entry Level / Student</option>
                            <option value="Junior (1-2 years)">Junior (1-2 years)</option>
                            <option value="Mid-Level (3-5 years)">Mid-Level (3-5 years)</option>
                            <option value="Senior (5+ years)">Senior (5+ years)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="portfolio">Portfolio Link <span class="required">*</span></label>
                        <input type="url" id="portfolio" name="portfolio" placeholder="https://..." required>
                    </div>

                    <div class="form-group">
                        <label for="discord">Discord Username (Optional)</label>
                        <input type="text" id="discord" name="discord" placeholder="We'll reach out here first if provided">
                    </div>

                    <div class="form-group">
                        <label for="message">Why do you want to join Mloop Studio?</label>
                        <textarea id="message" name="message" placeholder="Tell us about yourself and why you're passionate about meaningful children's entertainment..."></textarea>
                    </div>

                    <button type="submit" class="btn-submit" id="submitBtn">Submit Application</button>

                    <div class="status-message" id="statusMessage"></div>
                </form>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <img src="images/logo-white.png" alt="Mloop Studio" class="footer-logo">
                    <p>Creating meaningful children's entertainment through 2D animation.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="works.html">Our Works</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="join.html">Join Our Team</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Connect With Us</h4>
                    <div class="social-links">
                        <a href="https://instagram.com/mloopstudio" target="_blank">Instagram</a>
                        <a href="https://youtube.com/@mloopstudio" target="_blank">YouTube</a>
                        <a href="https://mloopstudio.github.io" target="_blank">Website</a>
                        <a href="mailto:mloopstudio@gmail.com">Gmail</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>
                    &copy; 2025 Mloop Studio. All rights reserved. | 
                    <a href="privacy.html" class="privacy-link">Privacy Policy</a>
                </p>
                <p class="font-credit">
                    Font: <a href="http://www.onlinewebfonts.com" target="_blank">Sifonn</a> 
                    by OnlineWebFonts.com (CC BY 4.0)
                </p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // EmailJS Configuration
        const EMAILJS_PUBLIC_KEY = 'WddkzC_OL6fgUp7fr';
        const EMAILJS_SERVICE_ID = 'service_yevi5ss';
        const EMAILJS_TEMPLATE_ID = 'template_hmju2wb';

        // Initialize EmailJS
        emailjs.init(EMAILJS_PUBLIC_KEY);

        // Position Mapping Data
        const positionData = {
            "animation": [
                "Key Pose Animator (Hand-Drawn)",
                "Inbetweener (Hand-Drawn)",
                "Clean-up & Color Artist",
                "Storyboard Artist",
                "Character Designer",
                "Concept Artist",
                "Background Artist",
                "Open to Any Role (We'll assess best fit)"
            ],
            "gamedev": [
                "2D Rigging Artist",
                "Game Developer (Godot)",
                "Character Designer",
                "Concept Artist",
                "Background Artist",
                "UI/UX Designer (Kid-Centric)",
                "Designer for Learning Resources"
            ],
            "webdev": [
                "Frontend Developer (Web)",
                "Backend Developer (Systems)",
                "Fullstack Developer",
                "UI/UX Designer (Web)"
            ],
            "audio_marketing": [
                "Music Composer",
                "Sound Designer (SFX)",
                "Voice Actor/Actress",
                "Video Editor",
                "Compositing Artist",
                "Social Media Manager",
                "Content Marketer"
            ],
            "leadership": [
                "Art Director",
                "Animation Lead",
                "Project Manager / Producer",
                "Lead Developer"
            ]
        };

        function updatePositions() {
            const deptSelect = document.getElementById('department');
            const posSelect = document.getElementById('position');
            const selectedDept = deptSelect.value;

            posSelect.innerHTML = '<option value="">-- Select Position --</option>';
            
            if (selectedDept && positionData[selectedDept]) {
                posSelect.disabled = false;
                positionData[selectedDept].forEach(pos => {
                    const opt = document.createElement('option');
                    opt.value = pos;
                    opt.textContent = pos;
                    posSelect.appendChild(opt);
                });
            } else {
                posSelect.disabled = true;
                posSelect.innerHTML = '<option value="">-- Select Department First --</option>';
            }
        }

        const form = document.getElementById('hiringForm');
        const submitBtn = document.getElementById('submitBtn');
        const statusMessage = document.getElementById('statusMessage');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            // Disable submit button
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';

            // Get form data
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                department: document.getElementById('department').options[document.getElementById('department').selectedIndex].text,
                position: document.getElementById('position').value,
                experience: document.getElementById('experience').value,
                portfolio: document.getElementById('portfolio').value,
                discord: document.getElementById('discord').value || 'Not provided',
                message: document.getElementById('message').value || 'No message provided'
            };

            try {
                // Send email using EmailJS
                await emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, formData);
                
                showMessage('âœ… Application submitted successfully! We\'ll be in touch soon.', 'success');
                form.reset();
                updatePositions(); // Reset position dropdown
            } catch (error) {
                console.error('Error:', error);
                showMessage('âŒ Failed to send application. Please try again or email us directly at mloopstudio@gmail.com', 'error');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Submit Application';
            }
        });

        function showMessage(message, type) {
            statusMessage.textContent = message;
            statusMessage.className = `status-message ${type}`;
            
            if (type === 'success') {
                setTimeout(() => {
                    statusMessage.style.display = 'none';
                }, 8000);
            }
        }
    </script>
</body>
</html>